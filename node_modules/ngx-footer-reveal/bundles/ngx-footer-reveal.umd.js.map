{"version":3,"file":"ngx-footer-reveal.umd.js","sources":["../../out-tsc/lib/src/directive/lib.directive.ts","../../out-tsc/lib/src/module.ts","../../out-tsc/lib/index.ts","../../out-tsc/lib/ngx-footer-reveal.ts"],"sourcesContent":["import { AfterViewInit, DoCheck, Directive, ElementRef, HostListener, Input, Renderer } from '@angular/core';\r\n\r\n@Directive({\r\n  selector:\"[ngxFooterReveal]\"\r\n})\r\nexport class NgxFooterRevealDirective implements AfterViewInit, DoCheck { \r\n    @Input('options') public options?: any;\r\n    @Input('shadow') public shadow?: boolean;\r\n    @Input('shadowOpacity') public shadowOpacity?: number;\r\n    @Input('zIndex') public zIndex?: number;\r\n    @Input('height') public height?: number;\r\n    @Input('width') public width?: number;\r\n\r\n    private prev: any;\r\n    private defaults: any;\r\n    private settings: any;\r\n\r\n    constructor(\r\n        private el: ElementRef,\r\n        private renderer: Renderer,\r\n    ) {\r\n        this.prev = this.el.nativeElement.previousElementSibling;\r\n        this.defaults = new Object();\r\n        this.settings = new Object();\r\n    }\r\n    \r\n    private initialize() {\r\n        let presets = {\r\n            shadow: this.shadow == null ? true : this.shadow,\r\n            shadowOpacity: this.shadowOpacity == null ? 0.8 : this.shadowOpacity,\r\n            zIndex: this.zIndex == null ? -100 : this.zIndex\r\n        };\r\n\r\n        if (this.options == null) {\r\n            this.options = new Object();\r\n        }\r\n\r\n        this.defaults = { ...presets, ...this.options };\r\n        this.settings = { \r\n            height: this.height == null ? 0 : this.height,\r\n            width: this.width == null ? 0 : this.width,\r\n            ...this.defaults, ...this.options \r\n        };\r\n    }\r\n\r\n    public ngAfterViewInit() {\r\n        this.initialize();\r\n        this.setMarginAndWidth();\r\n        \r\n        if (this.el.nativeElement.offsetHeight <= window.outerHeight && \r\n            this.el.nativeElement.offsetTop >= window.outerHeight) {\r\n            this.renderer.setElementStyle(this.el.nativeElement, 'z-index', this.defaults.zIndex.toString());\r\n            this.renderer.setElementStyle(this.el.nativeElement, 'position', 'fixed');\r\n            this.renderer.setElementStyle(this.el.nativeElement, 'bottom', '0');\r\n            \r\n            if (this.defaults.shadow) {\r\n                this.renderer.setElementStyle(this.prev, 'moz-box-shadow', '0 20px 30px -20px rgba(0,0,0,' + this.defaults.shadowOpacity + ')');\r\n                this.renderer.setElementStyle(this.prev, '-webkit-box-shadow', '0 20px 30px -20px rgba(0,0,0,' + this.defaults.shadowOpacity +')');\r\n                this.renderer.setElementStyle(this.prev, 'box-shadow', '0 20px 30px -20px rgba(0,0,0,' + this.defaults.shadowOpacity + ')');\r\n            }\r\n        }\r\n    }\r\n\r\n    public ngDoCheck() {\r\n        if (this.width === 0 || this.height === 0) {\r\n            this.setMarginAndWidth();\r\n        }\r\n    }\r\n    \r\n    @HostListener('window:resize')\r\n    @HostListener('footerRevealResize')\r\n    onWindowLoad() {\r\n        this.setMarginAndWidth();\r\n    }\r\n\r\n    private setMarginAndWidth() {\r\n        let height = this.el.nativeElement.offsetHeight;\r\n        let width = this.prev.offsetWidth;\r\n        this.settings.height = height && height > 0 ? height : this.settings.height;\r\n        this.settings.width = width && width > 0 ? width : this.settings.width;\r\n        this.renderer.setElementStyle(this.el.nativeElement, 'width', this.settings.width.toString() + 'px');\r\n        this.renderer.setElementStyle(this.prev, 'margin-bottom', this.settings.height.toString() + 'px');\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { NgxFooterRevealDirective } from './directive/lib.directive';\r\n\r\n@NgModule({\r\n  declarations: [NgxFooterRevealDirective],\r\n  exports: [NgxFooterRevealDirective]\r\n})\r\nexport class NgxFooterRevealModule { }\r\n","export { NgxFooterRevealDirective } from './src/directive/lib.directive';\r\nexport { NgxFooterRevealModule } from './src/module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Directive","ElementRef","Renderer","Input","HostListener","NgModule"],"mappings":"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"}